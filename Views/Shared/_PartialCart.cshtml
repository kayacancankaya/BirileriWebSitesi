@model BirileriWebSitesi.Models.BasketAggregate.Basket
@if(Model.Items.Count > 0)
{
    decimal itemTotal = 0;
    <div class="cart-container">

                <table class="cart-table">
                    <thead>
                        <tr>
                            <th>Ürün</th>
                            <th>Fiyat</th>
                            <th>Miktar</th>
                            <th>Toplam</th>
                            <th>Sil</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model.Items)
                        {
                            itemTotal = item.Quantity * item.UnitPrice;
                            <tr id="cart-item-@item.ProductCode">
                                <td data-label="Ürün">
                                    <div class="prod-thumb" style="display:block;float:left">
                                        <a asp-controller="Shop" asp-action="ProductDetailed" asp-route-name="@item.Slug" asp-route-productCode="@item.ProductCode">
                                            <img src="@Url.Content($"/images/resource/products/{item.ImagePath}/1.jpg")" alt="@item.ProductName" />
                                        </a>
                                    </div>
                                    <div>@item.ProductName</div>
                                </td>
                                <td data-label="Fiyat">@item.UnitPrice ₺</td>

                                <td data-label="Miktar" class="qty">
                                    <div style="display: flex; width: 100%;">
                                        <!-- Empty half -->
                                        <div style="flex: 1;"></div>

                                        <!-- Input half -->
                                        <div style="flex: 1; display: flex; justify-content: center;" class="qty-div">
                                            <input type="text"
                                                   class="quantity-spinner text-center"
                                                   data-productCode="@item.ProductCode"
                                                   value="@item.Quantity"
                                                   name="quantity"
                                                   style="width: 60px; color: black;">
                                        </div>
                                    </div>
                                </td>

                                <td data-label="Toplam" class="total" id="item-total-@item.ProductCode">@itemTotal ₺</td>
                                <td data-label="Sil">
                                    <a data-productcode="@item.ProductCode" class="remove-btn">
                                        <span class="fa fa-remove"></span>
                                    </a>
                                </td>
                            </tr>
                        }
                    </tbody>
                </table>

            @* <div class="cart-options clearfix">
                 <div class="pull-left">
            <div class="apply-coupon clearfix">
            <div class="form-group clearfix">
            <input type="text" name="coupon-code" value="" placeholder="Coupon Code">
            </div>
            <div class="form-group clearfix">
            <button type="button" class="theme-btn coupon-btn">Apply Coupon</button>
            </div>
            </div>
            </div> 

                 <div class="pull-right">
                    <button type="button" class="theme-btn cart-btn update-cart">SEPETİ GÜNCELLE</button>
                </div> 

            </div> *@
            
</div>
    <div class="container">
        <div class="totals-box">
            <ul>
                <li><strong>Genel Toplam</strong><strong id="cart-total">@Model.TotalAmount ₺</strong></li>
            </ul>
            <a class="checkout-btn" asp-controller="Order" asp-action="CheckOut">Sepeti Onayla</a>
        </div>
    </div>
}
else
{
    <div class="auto-container">
        <p>Sepetiniz Boş, <a type="button" asp-controller="Shop" asp-action="Index">alışverişe devam edin</a></p>
    </div>
}